{"name":"Docker-wine","tagline":"This will build wine 32 and 64 with a shared WoW64 setup for ubuntu using docker","body":"Build wine inside docker container\r\n==================================\r\n\r\nIf you want latest wine both 32/64 bit you should compile it by yourself.\r\nThe problem is that you require to install both 32/64 bit development libraries\r\non your compiling machine. But you can not to do this if you use containers.\r\n\r\nLXC implementation may be simpler, but I don't like LXC.\r\n\r\nCurrent implementation uses two images: one for compiling 64 bit wine and\r\nsecond for 32 bit wine.\r\n\r\napt-get installs wine to `/usr/bin`, this repository use the same folder.\r\nTherefore you should `apt-get remove` before any `make install`.\r\n\r\nThere is no native ubuntu 32 bit image for docker, but \r\n`dpkg --add-architecture i386` makes possible to done all magic. Another option\r\nis to use `besn0847/ubuntu32` docker image which implemented in `wine32-alt`\r\nfolder.\r\n\r\nNative lxc implementation may be more simpler and effective, but I don't like\r\nlxc.\r\n\r\nWhat has been tested with wine 1.7.28 builded with this doodad:\r\n- [Chaos Theory demo x86](http://www.pouet.net/prod.php?which=25774) — wine 32/64\r\n- Steam x86 — wine 32/64\r\n- Terraria (through Steam) — wine 32\r\n- Terraria (through Steam) — wine 64 — crashes in game menu\r\n- FL Studio 11 x64 — wine 32\r\n\r\nother tests — later\r\n\r\nCurrent issues\r\n--------------\r\n`./configure` tells that some features like `OpenCL` is not supported because\r\nit requires some development libraries to be installed.\r\n\r\nPrerequisites\r\n-------------\r\ndocker\r\n\r\nmakefile\r\n\r\nPossible steps\r\n--------------\r\n\r\nPreparing:\r\n```bash\r\nsudo apt-get install docker\r\ngit clone https://github.com/krasnobaev/docker-wine\r\n```\r\n\r\nBuilding:\r\n```bash\r\ncd docker-wine\r\nsudo make buildwine64image\r\nsudo make startdata\r\nsudo make buildwine32image\r\nsudo make buildwine32\r\nsudo make copywinetohost\r\n```\r\n\r\nInstalling:\r\n```bash\r\ncd /usr/src/wine-git\r\ngit checkout $WINE-VERSION\r\ncd /usr/src/wine32\r\nsudo make install\r\ncd /usr/src/wine64\r\nsudo make install\r\ncp /usr/src/wineasio/wineasio_32bit.dll.so /usr/lib/wine/\r\ncp /usr/src/wineasio/wineasio_64bit.dll.so /usr/lib64/wine/\r\n```\r\n\r\nToDo's\r\n------\r\n- make ubuntu/debian package on output\r\n- test whether it is possible to done all magic inside one container\r\n- move wine-git to data container?\r\n- make tests\r\n- install other dependent packages to make possible compiling of full-featured wine\r\n- add option to install in other folder than `/usr/bin`\r\n- use `docker commit`?\r\n\r\nLinks\r\n-----\r\n[Win64 Support for Wine](http://wiki.winehq.org/Wine64) — some notes for wow64\r\nused in this repository by [winehq.org](winehq.org).\r\n\r\n[Script to install build-time dependencies for Wine](https://winezeug.googlecode.com/svn/trunk/install-wine-deps.sh)\r\n\r\n[ASIO SDK](http://www.steinberg.net/en/company/developers.html)\r\n\r\nmy [docker workflow template](https://github.com/krasnobaev/docker-doc-template)\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}